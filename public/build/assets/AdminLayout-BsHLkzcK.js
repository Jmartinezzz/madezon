import{j as e,r as a,a1 as V,c as p,R,J as g,q as E,F as L,n as K,U as z}from"./CheckoutSuccess-gzNejNF5.js";import{a as O}from"./layoutcontext-C8Y36RnV.js";const B=()=>e.jsx("div",{className:"flex align-items-center justify-content-center pt-3 border-top-1 surface-border",children:e.jsx("span",{className:"font-medium ml-2",children:"Madezon"})}),P=a.createContext({}),D=({children:n})=>{const[i,s]=a.useState(""),d={activeMenu:i,setActiveMenu:s};return e.jsx(P.Provider,{value:d,children:n})},I=n=>{const i=a.useRef(null),s=route(route().current()),d="",{activeMenu:r,setActiveMenu:u}=a.useContext(P),t=n.item,c=n.parentKey?n.parentKey+"-"+n.index:String(n.index),b=t.to&&s===t.to,f=r===c||r.startsWith(c+"-"),v=o=>{t.to&&t.to===o&&u(c)},[N,k]=a.useState(!1),[C,S]=a.useState(!1);a.useEffect(()=>{v(s)},[s,d]);const l=o=>{if(t.disabled){o.preventDefault();return}t.command&&t.command({originalEvent:o,item:t}),t.items?u(f?n.parentKey:c):u(c)},M=t.items&&t.visible!==!1&&e.jsx(V,{nodeRef:i,timeout:{enter:1e3,exit:450},classNames:"layout-submenu",in:n.root?!0:f,children:e.jsx("ul",{ref:i,children:t.items.map((o,m)=>e.jsx(I,{item:o,index:m,className:o.badgeClass,parentKey:c},o.label))})},t.label);return e.jsxs("li",{className:p({"layout-root-menuitem":n.root,"active-menuitem":f}),children:[n.root&&t.visible!==!1&&e.jsx("div",{className:"layout-menuitem-root-text",children:t.label}),(!t.to||t.items)&&!t.dialog&&!t.downloadButton&&t.visible!==!1?e.jsxs("a",{href:t.url,onClick:o=>l(o),className:p(t.class,"p-ripple"),target:t.target,tabIndex:0,children:[e.jsx("i",{className:p("layout-menuitem-icon",t.icon)}),e.jsx("span",{className:"layout-menuitem-text",children:t.label}),t.items&&e.jsx("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),e.jsx(R,{})]}):null,t.to&&!t.items&&t.visible!==!1?e.jsxs(g,{href:t.to,replace:t.replaceUrl,target:t.target,onClick:o=>l(o),className:p(t.class,"p-ripple",{"active-route":b}),tabIndex:0,children:[e.jsx("i",{className:p("layout-menuitem-icon",t.icon)}),e.jsx("span",{className:"layout-menuitem-text",children:t.label}),t.items&&e.jsx("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),e.jsx(R,{})]}):null,M]})},F=()=>{const n=[{label:"Home",items:[{label:"Dashboard",icon:"pi pi-fw pi-home",to:route("admin.dashboard")}]},{label:"Store",items:[{label:"Products and Categories",icon:"pi pi-shop",items:[{label:"Products",icon:"pi pi-fw pi-id-card",to:route("admin.products.index")},{label:"Categories",icon:"pi pi-fw pi-bookmark-fill",to:route("admin.categories.index")},{label:"Sub Categories",icon:"pi pi-fw pi-bookmark",to:route("admin.subcategories.index")}]},{label:"Orders",icon:"pi pi-fw pi-book",to:route("admin.orders.index")},{label:"Quotes",icon:"pi pi-fw pi-amazon",to:route("admin.quotes.index")}]}];return e.jsx(D,{children:e.jsx("ul",{className:"layout-menu",children:n.map((i,s)=>i!=null&&i.separator?e.jsx("li",{className:"menu-separator"},`separator-${s}`):e.jsx(I,{item:i,root:!0,index:s},i.label))})})},H=()=>e.jsx(F,{}),T=a.forwardRef((n,i)=>{const{user:s}=E().props.auth,{layoutState:d,onMenuToggle:r,showProfileSidebar:u}=a.useContext(O),t=a.useRef(null),c=a.useRef(null),b=a.useRef(null);return a.useImperativeHandle(i,()=>({menubutton:t.current,topbarmenu:c.current,topbarmenubutton:b.current})),e.jsxs("div",{className:"layout-topbar",children:[e.jsx(g,{href:"/",className:"layout-topbar-logo",children:e.jsx("img",{src:"/assets/img/mdz1.webp",height:"55px",alt:"logo"})}),e.jsx("button",{ref:t,type:"button",className:"p-link layout-menu-button layout-topbar-button",onClick:r,children:e.jsx("i",{className:"pi pi-bars"})}),e.jsx("button",{ref:b,type:"button",className:"p-link layout-topbar-menu-button layout-topbar-button",onClick:u,children:e.jsx("i",{className:"pi pi-user"})}),e.jsx("span",{className:"ml-2 hidden md:inline",children:s.name}),e.jsxs("div",{ref:c,className:p("layout-topbar-menu",{"layout-topbar-menu-mobile-active":d.profileSidebarVisible}),children:[e.jsxs(g,{href:route("profile.edit"),className:"p-link layout-topbar-button",children:[e.jsx("i",{className:"pi pi-user"}),e.jsx("span",{children:"Settings"})]}),e.jsxs(g,{href:route("logout"),method:"post",as:"button",className:"p-link layout-topbar-button",children:[e.jsx("i",{className:"pi pi-lock"}),e.jsx("span",{children:"Log Out"})]})]})]})}),J=({children:n})=>{E().props.auth.user;const{layoutConfig:i,layoutState:s,setLayoutState:d}=a.useContext(O),r=a.useRef(null),u=a.useRef(null),[t,c]=L({type:"click",listener:l=>{var o,m,x,y,j,h;!((o=u.current)!=null&&o.isSameNode(l.target)||(m=u.current)!=null&&m.contains(l.target)||(y=(x=r.current)==null?void 0:x.menubutton)!=null&&y.isSameNode(l.target)||(h=(j=r.current)==null?void 0:j.menubutton)!=null&&h.contains(l.target))&&v()}});a.useEffect(()=>{v(),N()},[]);const[b,f]=L({type:"click",listener:l=>{var o,m,x,y,j,h,w,A;!((m=(o=r.current)==null?void 0:o.topbarmenu)!=null&&m.isSameNode(l.target)||(y=(x=r.current)==null?void 0:x.topbarmenu)!=null&&y.contains(l.target)||(h=(j=r.current)==null?void 0:j.topbarmenubutton)!=null&&h.isSameNode(l.target)||(A=(w=r.current)==null?void 0:w.topbarmenubutton)!=null&&A.contains(l.target))&&N()}}),v=()=>{d(l=>({...l,overlayMenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1})),c(),C()},N=()=>{d(l=>({...l,profileSidebarVisible:!1})),f()},k=()=>{document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"},C=()=>{document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")};a.useEffect(()=>{(s.overlayMenuActive||s.staticMenuMobileActive)&&t(),s.staticMenuMobileActive&&k()},[s.overlayMenuActive,s.staticMenuMobileActive]),a.useEffect(()=>{s.profileSidebarVisible&&b()},[s.profileSidebarVisible]),K(()=>{c(),f()});const S=p("layout-wrapper",{"layout-overlay":i.menuMode==="overlay","layout-static":i.menuMode==="static","layout-static-inactive":s.staticMenuDesktopInactive&&i.menuMode==="static","layout-overlay-active":s.overlayMenuActive,"layout-mobile-active":s.staticMenuMobileActive,"p-input-filled":i.inputStyle==="filled","p-ripple-disabled":!i.ripple});return e.jsx(z.Fragment,{children:e.jsxs("div",{className:S,children:[e.jsx(T,{ref:r}),e.jsx("div",{ref:u,className:"layout-sidebar shadow-3",children:e.jsx(H,{})}),e.jsxs("div",{className:"layout-main-container",children:[e.jsx("div",{className:"layout-main",children:e.jsx("div",{className:"overflow-hidden border-round-lg bg-white shadow-2 px-4 pt-4 pb-5",children:n})}),e.jsx(B,{})]}),e.jsx("div",{className:"layout-mask"})]})})};export{J as A};
