import{j as e,r as i,V,d as b,R as w,J as g,q as I,W as L,h as K,U as B}from"./CheckoutSuccess-SBzXFiMX.js";import{a as E}from"./layoutcontext-Bg1F2fO6.js";const D=()=>e.jsx("div",{className:"flex align-items-center justify-content-center pt-3 border-top-1 surface-border",children:e.jsx("span",{className:"font-medium ml-2",children:"Madezon"})}),P=i.createContext({}),H=({children:o})=>{const[s,a]=i.useState(""),u={activeMenu:s,setActiveMenu:a};return e.jsx(P.Provider,{value:u,children:o})},O=o=>{const s=route(route().current()),a="",{activeMenu:u,setActiveMenu:r}=i.useContext(P),t=o.item,c=o.parentKey?o.parentKey+"-"+o.index:String(o.index),d=t.to&&s===t.to,p=u===c||u.startsWith(c+"-"),v=l=>{t.to&&t.to===l&&r(c)},[M,k]=i.useState(!1),[C,S]=i.useState(!1);i.useEffect(()=>{v(s)},[s,a]);const N=l=>{if(t.disabled){l.preventDefault();return}t.command&&t.command({originalEvent:l,item:t}),t.items?r(p?o.parentKey:c):r(c)},n=t.items&&t.visible!==!1&&e.jsx(V,{timeout:{enter:1e3,exit:450},classNames:"layout-submenu",in:o.root?!0:p,children:e.jsx("ul",{children:t.items.map((l,m)=>e.jsx(O,{item:l,index:m,className:l.badgeClass,parentKey:c},l.label))})},t.label);return e.jsxs("li",{className:b({"layout-root-menuitem":o.root,"active-menuitem":p}),children:[o.root&&t.visible!==!1&&e.jsx("div",{className:"layout-menuitem-root-text",children:t.label}),(!t.to||t.items)&&!t.dialog&&!t.downloadButton&&t.visible!==!1?e.jsxs("a",{href:t.url,onClick:l=>N(l),className:b(t.class,"p-ripple"),target:t.target,tabIndex:0,children:[e.jsx("i",{className:b("layout-menuitem-icon",t.icon)}),e.jsx("span",{className:"layout-menuitem-text",children:t.label}),t.items&&e.jsx("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),e.jsx(w,{})]}):null,t.to&&!t.items&&t.visible!==!1?e.jsxs(g,{href:t.to,replace:t.replaceUrl,target:t.target,onClick:l=>N(l),className:b(t.class,"p-ripple",{"active-route":d}),tabIndex:0,children:[e.jsx("i",{className:b("layout-menuitem-icon",t.icon)}),e.jsx("span",{className:"layout-menuitem-text",children:t.label}),t.items&&e.jsx("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),e.jsx(w,{})]}):null,n]})},T=()=>{const o=[{label:"Home",items:[{label:"Dashboard",icon:"pi pi-fw pi-home",to:route("admin.dashboard")}]},{label:"Store",items:[{label:"Products",icon:"pi pi-fw pi-id-card",to:route("admin.products.index")}]}];return e.jsx(H,{children:e.jsx("ul",{className:"layout-menu",children:o.map((s,a)=>s!=null&&s.separator?e.jsx("li",{className:"menu-separator"},`separator-${a}`):e.jsx(O,{item:s,root:!0,index:a},s.label))})})},U=()=>e.jsx(T,{}),F=i.forwardRef((o,s)=>{const{layoutState:a,onMenuToggle:u,showProfileSidebar:r}=i.useContext(E),t=i.useRef(null),c=i.useRef(null),d=i.useRef(null);return i.useImperativeHandle(s,()=>({menubutton:t.current,topbarmenu:c.current,topbarmenubutton:d.current})),e.jsxs("div",{className:"layout-topbar",children:[e.jsx(g,{href:"/",className:"layout-topbar-logo",children:e.jsx("img",{src:"logo.png",height:"55px",alt:"logo"})}),e.jsx("button",{ref:t,type:"button",className:"p-link layout-menu-button layout-topbar-button",onClick:u,children:e.jsx("i",{className:"pi pi-bars"})}),e.jsx("button",{ref:d,type:"button",className:"p-link layout-topbar-menu-button layout-topbar-button",onClick:r,children:e.jsx("i",{className:"pi pi-user"})}),e.jsxs("div",{ref:c,className:b("layout-topbar-menu",{"layout-topbar-menu-mobile-active":a.profileSidebarVisible}),children:[e.jsxs(g,{href:route("profile.edit"),className:"p-link layout-topbar-button",children:[e.jsx("i",{className:"pi pi-user"}),e.jsx("span",{children:"Perfil"})]}),e.jsxs(g,{href:route("logout"),method:"post",as:"button",className:"p-link layout-topbar-button",children:[e.jsx("i",{className:"pi pi-lock"}),e.jsx("span",{children:"Cerrar sesion"})]})]})]})}),$=({children:o})=>{I().props.auth.user;const{layoutConfig:s,layoutState:a,setLayoutState:u}=i.useContext(E),r=i.useRef(null),t=i.useRef(null),[c,d]=L({type:"click",listener:n=>{var m,f,x,y,j,h;!((m=t.current)!=null&&m.isSameNode(n.target)||(f=t.current)!=null&&f.contains(n.target)||(y=(x=r.current)==null?void 0:x.menubutton)!=null&&y.isSameNode(n.target)||(h=(j=r.current)==null?void 0:j.menubutton)!=null&&h.contains(n.target))&&M()}});i.useEffect(()=>{M(),k()},[]);const[p,v]=L({type:"click",listener:n=>{var m,f,x,y,j,h,A,R;!((f=(m=r.current)==null?void 0:m.topbarmenu)!=null&&f.isSameNode(n.target)||(y=(x=r.current)==null?void 0:x.topbarmenu)!=null&&y.contains(n.target)||(h=(j=r.current)==null?void 0:j.topbarmenubutton)!=null&&h.isSameNode(n.target)||(R=(A=r.current)==null?void 0:A.topbarmenubutton)!=null&&R.contains(n.target))&&k()}}),M=()=>{u(n=>({...n,overlayMenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1})),d(),S()},k=()=>{u(n=>({...n,profileSidebarVisible:!1})),v()},C=()=>{document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"},S=()=>{document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")};i.useEffect(()=>{(a.overlayMenuActive||a.staticMenuMobileActive)&&c(),a.staticMenuMobileActive&&C()},[a.overlayMenuActive,a.staticMenuMobileActive]),i.useEffect(()=>{a.profileSidebarVisible&&p()},[a.profileSidebarVisible]),K(()=>{d(),v()});const N=b("layout-wrapper",{"layout-overlay":s.menuMode==="overlay","layout-static":s.menuMode==="static","layout-static-inactive":a.staticMenuDesktopInactive&&s.menuMode==="static","layout-overlay-active":a.overlayMenuActive,"layout-mobile-active":a.staticMenuMobileActive,"p-input-filled":s.inputStyle==="filled","p-ripple-disabled":!s.ripple});return e.jsx(B.Fragment,{children:e.jsxs("div",{className:N,children:[e.jsx(F,{ref:r}),e.jsx("div",{ref:t,className:"layout-sidebar shadow-3",children:e.jsx(U,{})}),e.jsxs("div",{className:"layout-main-container",children:[e.jsx("div",{className:"layout-main",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-2 px-4 pt-4 pb-5",children:o})}),e.jsx(D,{})]}),e.jsx("div",{className:"layout-mask"})]})})};export{$ as A};
