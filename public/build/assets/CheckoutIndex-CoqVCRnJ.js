import{r as m,q as x,j as s,f as h,a as u}from"./CheckoutSuccess-DApvr4KY.js";import{c as j,U as p,C as f,r as N}from"./UsersLayout-DOt0Jk5V.js";import{a as C,u as g}from"./react-redux-oF7IyFi7.js";import{B as b}from"./button.esm-Ds39Rko7.js";import{C as v}from"./card.esm-sJdw9xDc.js";import"./badge.esm-EwHR2LLX.js";import"./inputnumber.esm-BgJTH5aU.js";import"./inputtext.esm-BGA5zxqm.js";import"./overlayservice.esm-C9uc0rGE.js";import"./divider.esm-BXXYeOg1.js";function k({items:e}){const[t,l]=m.useState(null),o=C(),a=x().props.auth.user,i=e.reduce((r,c)=>r+(c.promo_price??c.price)*c.quantity,0),d=()=>50,n=()=>{l(null),h.post(route("checkout.store"),{cart:e},{onSuccess:r=>{o(j(a==null?void 0:a.id))},onError:r=>{l(r.message)}})};return s.jsxs(v,{title:"Totales",className:"shadow-4",children:[s.jsx("table",{className:"w-full text-lg",children:s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Impuesto 1:"}),s.jsx("td",{className:"text-right",children:"$50"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Aranceles:"}),s.jsxs("td",{className:"text-right",children:["$",d()]})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Sub Total:"}),s.jsx("td",{className:"text-right",children:"$500"})]}),s.jsxs("tr",{className:"font-semibold text-primary",children:[s.jsx("td",{children:"Total:"}),s.jsxs("td",{className:"text-right",children:["$",i.toFixed(2)]})]})]})}),s.jsx(b,{className:"w-full p-2 mt-3 mb-2",label:"Proceder a Pagar",raised:!0,onClick:n}),t&&s.jsx("span",{className:"text-red-400 text-center",children:t})]})}function F(){const e=g(t=>t.cart.items);return s.jsxs(p,{children:[s.jsx(u,{title:"Checkout"}),s.jsxs("div",{className:"grid mt-5",children:[s.jsx("div",{className:"col-12 md:col-8",children:s.jsx("div",{className:"",children:e.map(t=>s.jsx("div",{children:s.jsx(f,{product:t,removeFromCart:N,isIncheckout:!0})},t.id))})}),s.jsx("div",{className:"col-12 md:col-4",children:s.jsx(k,{items:e})})]})]})}export{F as default};
